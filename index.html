<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Redirecionando...</title>

  <!-- SEO -->
  <meta name="description" content="Aguarde um momento, estamos processando seu acesso.">
  <meta property="og:title" content="Carregando...">
  <meta property="og:description" content="Aguarde um momento, estamos te redirecionando.">
  <meta property="og:image" content="https://modelo.life/imagem-preview.jpg">

  <style>
    body {
      margin: 0;
      background-color: #000;
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      font-family: 'Inter', Arial, sans-serif;
      text-align: center;
    }
    h1 {
      font-size: 18px;
      font-weight: 500;
      margin-bottom: 15px;
    }
    .spinner {
      border: 5px solid rgba(255,255,255,0.2);
      border-top: 5px solid #00ff7f;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
      margin-top: 20px;
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    .status {
      font-size: 14px;
      color: #aaa;
      margin-top: 10px;
    }
  </style>

  <!-- Google Tag Manager -->
  <script>
    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});
      var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';
      j.async=true;j.src=
      'https://www.googletagmanager.com/gtm.js?id='+i+dl;
      f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-MT6B5TBD');
  </script>

  <!-- UTMify -->
  <script
    src="https://cdn.utmify.com.br/scripts/utms/latest.js"
    data-utmify-prevent-xcod-sck
    data-utmify-prevent-subids
    async defer></script>

  <!-- Pixel UTMify -->
  <script>
    window.pixelId = "68e19e32a255808f0ad6f844";
    (function(){
      var a = document.createElement("script");
      a.async = true; a.defer = true;
      a.src = "https://cdn.utmify.com.br/scripts/pixel/pixel.js";
      document.head.appendChild(a);
    })();
  </script>

  <!-- Redirecionamento inteligente -->
  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const params = new URLSearchParams(window.location.search);
      const queryString = params.toString();

      // Destino principal (Webhook n8n)
      const destinoPrimario = "https://webhook-cf.zapsafe.work/webhook/presseldirecionadorab";
      const destinoCompleto = destinoPrimario + (queryString ? "?" + queryString : "");

      // Backup autom√°tico (failsafe)
      const destinoBackup = "https://webhook-cf.zapsafe.work/webhook/a";

      const statusEl = document.getElementById("status");
      statusEl.textContent = "üîç Verificando conex√£o segura...";

      // Pequeno atraso (GTM e UTMify tracking)
      setTimeout(() => {
        fetch(destinoCompleto, { method: "GET", mode: "no-cors" })
          .then(() => {
            statusEl.textContent = "‚úÖ Conectado, redirecionando...";
            setTimeout(() => {
              window.location.replace(destinoCompleto);
            }, 200);
          })
          .catch(() => {
            statusEl.textContent = "‚ö†Ô∏è Redirecionando via rota segura...";
            window.location.replace(destinoBackup);
          });
      }, 400);
    });
  </script>
</head>
<body>
  <!-- GTM noscript -->
  <noscript>
    <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-MT6B5TBD"
      height="0" width="0" style="display:none;visibility:hidden"></iframe>
  </noscript>

  <h1>Carregando, aguarde...</h1>
  <div class="spinner"></div>
  <div id="status" class="status">Iniciando...</div>
</body>
</html>
